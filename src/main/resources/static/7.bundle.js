(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[7],{

/***/ "./src/Register/index.tsx":
/*!********************************!*\
  !*** ./src/Register/index.tsx ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Signup; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/esm/react-router-dom.js\");\n/* harmony import */ var _material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core/Button */ \"./node_modules/@material-ui/core/esm/Button/index.js\");\n/* harmony import */ var _Shared_Hooks_useApi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Shared/Hooks/useApi */ \"./src/Shared/Hooks/useApi/index.ts\");\n/* harmony import */ var _Shared_Component_FormTextField__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Shared/Component/FormTextField */ \"./src/Shared/Component/FormTextField/index.tsx\");\n/* harmony import */ var _Shared_Component_Paper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Shared/Component/Paper */ \"./src/Shared/Component/Paper/index.tsx\");\n/* harmony import */ var _Shared_Component_ErrorDiv__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Shared/Component/ErrorDiv */ \"./src/Shared/Component/ErrorDiv/index.tsx\");\n/* harmony import */ var _Shared_Component_BasePage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Shared/Component/BasePage */ \"./src/Shared/Component/BasePage/index.tsx\");\n/* harmony import */ var _Shared_Component_Password__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Shared/Component/Password */ \"./src/Shared/Component/Password/index.tsx\");\n/* harmony import */ var _Shared_Utils_Auth__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Shared/Utils/Auth */ \"./src/Shared/Utils/Auth/index.ts\");\n/* harmony import */ var _Shared_Hooks_useSnackbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../Shared/Hooks/useSnackbar */ \"./src/Shared/Hooks/useSnackbar/index.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst url = \"/api/register\";\nconst method = \"post\";\nconst passwordRegex = new RegExp(\"^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=])(?=\\\\S+$).{8,}$\");\nconst checkId = (userId) => !!userId;\nconst checkPassword = (password) => passwordRegex.test(password);\nconst checkRePassword = (password, repassword) => password === repassword;\nfunction Signup() {\n    const showSnackbar = Object(_Shared_Hooks_useSnackbar__WEBPACK_IMPORTED_MODULE_10__[\"useShowSnackbar\"])();\n    const [userId, setUserId] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(\"\");\n    const [password, setPassword] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(\"\");\n    const [repassword, setRepassword] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(\"\");\n    const [isIdValid, setIsIdValid] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(true);\n    const [isPasswordValid, setIsPasswordValid] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(true);\n    const [isRePasswordValid, setIsRePasswordValid] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(true);\n    const [payload, setPayload] = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null);\n    const [hasRegistered, err] = Object(_Shared_Hooks_useApi__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(payload);\n    const register = () => {\n        const validId = checkId(userId);\n        const validPassword = checkPassword(password);\n        const validRepassword = checkRePassword(password, repassword);\n        setIsIdValid(validId);\n        setIsPasswordValid(validPassword);\n        setIsRePasswordValid(validRepassword);\n        if (validId && validPassword && validRepassword) {\n            setPayload({\n                url,\n                method,\n                data: { username: userId, password: password },\n            });\n        }\n    };\n    Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(() => {\n        if (hasRegistered) {\n            Object(_Shared_Utils_Auth__WEBPACK_IMPORTED_MODULE_9__[\"setAuthHeader\"])();\n            showSnackbar(\"Registered\");\n        }\n    }, [hasRegistered, showSnackbar]);\n    const userIdChanged = (e) => setUserId(e.target.value);\n    const passwordChanged = (e) => setPassword(e.target.value);\n    const repasswordChanged = (e) => setRepassword(e.target.value);\n    if (hasRegistered) {\n        return react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](react_router_dom__WEBPACK_IMPORTED_MODULE_1__[\"Redirect\"], { to: \"/login\" });\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](_Shared_Component_BasePage__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null,\n        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](_Shared_Component_Paper__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null,\n            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](_Shared_Component_FormTextField__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { variant: \"outlined\", label: \"User ID\", value: userId, onChange: userIdChanged, color: \"secondary\", helperText: isIdValid ? \"\" : \"Required\", spellCheck: false, error: !isIdValid }),\n            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](_Shared_Component_Password__WEBPACK_IMPORTED_MODULE_8__[\"default\"], { variant: \"outlined\", label: \"Password\", value: password, onChange: passwordChanged, helperText: isPasswordValid\n                    ? \"\"\n                    : \"Password should be atleast 8 char in length and have 1 Uppercase 1 Lowercase 1 number and 1 special character\", error: !isPasswordValid, color: \"secondary\" }),\n            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](_Shared_Component_Password__WEBPACK_IMPORTED_MODULE_8__[\"default\"], { variant: \"outlined\", label: \"Confirm Password\", value: repassword, onChange: repasswordChanged, color: \"secondary\", error: !isRePasswordValid, helperText: isRePasswordValid\n                    ? \"\"\n                    : \"Those Passwords don't match. Please try again\" }),\n            react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { onClick: register, color: \"primary\" },\n                react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"b\", null, \"Register\"))),\n        react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"br\", null),\n        err && react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](_Shared_Component_ErrorDiv__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null, err)));\n}\n\n\n//# sourceURL=webpack:///./src/Register/index.tsx?");

/***/ })

}]);